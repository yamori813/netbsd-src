#	$NetBSD: Makefile,v 1.41 2023/06/03 09:09:12 lukem Exp $
#	@(#)Makefile	8.1 (Berkeley) 7/19/93

PROG=	init
MAN=	init.8
DPADD=	${LIBUTIL}
LDADD=	-lutil
CPPFLAGS+=	-DMFS_DEV_IF_NO_CONSOLE -DSUPPORT_UTMP -DSUPPORT_UTMPX

.ifdef	 INIT_CHROOT
CPPFLAGS+=	-DCHROOT
.elifdef SMALLPROG
CPPFLAGS+=	-DLETS_GET_SMALL
.else
CPPFLAGS+=	-DALTSHELL -DSECURE -DCHROOT
DPADD+=		${LIBCRYPT}
LDADD+=		-lcrypt
.endif

COPTS.init.c+=	${CC_WNO_FORMAT_TRUNCATION} ${CC_WNO_STRINGOP_TRUNCATION} ${CC_WNO_CAST_FUNCTION_TYPE}

.include <bsd.prog.mk>
